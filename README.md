# hello-spring
인프런에서 김영한 님의 강의를 보고 스프링 부트의 전체적인 흐름을 잡기 위한 프로젝트이다.
aws배포까지 연결해 볼 예정

### AWS 배포하는 방법
1. EC2 인스턴스 생성하기
 - 스토리지는 30GB까지 무료이다.
 - 보안그룹 = 방화벽
 - SSH 포트번호 22는 내 IP로 설정해두어야 한다. 해당 포트번호는 AWS EX2에 터미널로 접속할 때를 이야기한다. 
 pem 키가 없으면 접속이 안되니 전체 오픈 하는 경우가 종종 있지만 실수로 pem키가 노출되는 순간 서버에서 가상화폐가 채굴될 수 있다.
 - 8080포트는 전체 오픈을 해도 문제가 되지 않는다.
 - 인스턴스로 접근하기 위해서는 pem키(비밀키)가 필요하다. 인스턴스는 지정된 pem키와 매칭되는 공개키를 가지고 있어, 해당 pem키 외에는 접근을 혀용하지 않는다.
 - 생성이 다 되었다면 IP와 도메인이 할당된 것을 확인할 수 있다.
 
 2. EIP(탄력적 IP) 할당하기
- 인스턴스를 중지하고 다시 시작하며도 변경되지 않는 IP를 가지기 위해 고정 IP를 할당해줘야 한다.
- 생성한 탄력적 ip와 조금 전 생성한 EC2 주소를 연결한다.
- 페이지 위에 있는 [작업] -> [주소 연결] 메누를 선택한다.
- 인스턴스 칸에 EC2주소를 넣으면 연결이 된다. 
- [인스턴스 목록] 으로 이동해 잘 연결되었는지 확인하기
- 탄력적 IP만들고 바로 인스턴스 연결 안하면 돈 나간다...

3. EC2서버에 접속하기 
* wsl로 EC2서버에 접속할 것이다
* AWS와 같은 외부 서버로 접속할 때는 SSH를 사용한다. SSH(Secure Shell)는 원격지 호스트 컴퓨터에 접속하기 위해 사용되는 인터넷 프로토콜이다.
* ssh로 접속하기 위해서는 pem키(비밀키)가 필요하다. 
* https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/WSL.html 참고하기
- ssh 실행 시 pem키 파일을 자동으로 읽어 접속을 진행할 수 있도록 pem키 파일을 옮겨놓는다.
- 복사되었다면 pem키의 권한을 변경한다.
- config 파일을 생성한다. (HOST는 앞으로 접속할 키 값, HostName는 탄력적 IP주소)
- config파일 권한 변경하기
- ssh 접속
- 완료되면 이제는 터미널에서 ssh 서비스명만 입력하면 접속할 수 있다.

4. 아마존 리눅스 1 서버 생성 시 꼭 해야 할 설정들
* /etc와 /usr/etc 디렉토리는 시스템의 부팅, 셧다운 시에 필요한 파일들과 시스템의 전반에 걸친 설정 파일들 및 초기 스크립트 파일들이 있다. 
* 시스템에 어떠한 문제가 발생한다거나, 시스템 전체 환경에 관한 설정을 바꾸기 위해서는 이들 디렉토리내에 포함되어 있는 파일들에 대하여 잘 알아야 한다.
- 프로젝트의 자바 버전 설치하기 
- 타임존 변경하기 : 기본 서버의 시간은 미국 시간대이다. 한국 시간대가 되어야만 우리가 사용하는 시간이 모두 한국 시간으로 등록되고 사용된다.
- 호스트네임 변경 : 현재 접속한 서버의 별명을 등록한다. IP만으로 어떤 서버가 어떤 역할을 하는지 알 수 없기 때문에 필수로 등록한다.
  - Hostname이 등록되었다면 호스트 주소를 찾을 때 가장 먼저 검색해 보는 /etc/hosts에 변경한 hostname을 등록한다.
  - 음... hostName을 등록하지 않았을 때 발생한 장애에 대한 자세한 내용으로 https://woowabros.github.io/experience/2017/01/20/billing-event.html를 참고하라는데 이해가 잘 안간당..ㅎ
  
